<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>BlockBrief</title><script src="https://telegram.org/js/telegram-web-app.js"></script><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#f5f5f5;color:#000;overflow-x:hidden;padding-bottom:20px}.header{position:sticky;top:0;background:#fff;padding:16px;border-bottom:1px solid #e0e0e0;z-index:100;display:flex;align-items:center;gap:12px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.logo{font-size:32px}.header-text h1{font-size:22px;font-weight:700}.header-text p{font-size:13px;color:#999}.loading{text-align:center;padding:60px 20px;color:#999}.spinner{border:3px solid #f3f3f3;border-top:3px solid #3390ec;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:0 auto 16px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.container{padding:16px}.story-card{background:#fff;border-radius:16px;padding:16px;margin-bottom:16px;box-shadow:0 2px 8px rgba(0,0,0,.08)}.story-image{width:100%;height:180px;object-fit:cover;border-radius:12px;margin-bottom:12px;background:#e0e0e0}.story-meta{display:flex;gap:8px;align-items:center;margin-bottom:8px;font-size:12px;color:#999}.story-source{font-weight:600;color:#3390ec}.story-title{font-size:18px;font-weight:700;line-height:1.4;margin-bottom:8px}.story-body{font-size:15px;line-height:1.5;color:#333;margin-bottom:12px}.read-more{display:inline-flex;align-items:center;gap:4px;color:#3390ec;font-weight:600;font-size:14px;text-decoration:none}.refresh-btn{position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:#3390ec;color:#fff;border:none;font-size:24px;box-shadow:0 4px 12px rgba(51,144,236,.4);cursor:pointer;display:flex;align-items:center;justify-content:center}</style></head><body><div class="header"><div class="logo">üì∞</div><div class="header-text"><h1>BlockBrief</h1><p>Real-time Crypto News</p></div></div><div id="app"><div class="loading"><div class="spinner"></div><p>Loading latest crypto news...</p></div></div><button class="refresh-btn" onclick="loadNews()">üîÑ</button><script>if(window.Telegram&&window.Telegram.WebApp){const tg=window.Telegram.WebApp;tg.ready();tg.expand()}function formatTime(t){const e=Date.now()/1e3-t;if(e<3600)return Math.floor(e/60)+"m ago";if(e<86400)return Math.floor(e/3600)+"h ago";return Math.floor(e/86400)+"d ago"}function openLink(t){window.Telegram&&window.Telegram.WebApp&&window.Telegram.WebApp.openLink?window.Telegram.WebApp.openLink(t):window.open(t,"_blank")}function renderStories(t){const e=document.getElementById("app");if(!t||0===t.length)return void(e.innerHTML='<div class="error">No news available. Try refreshing.</div>');const n='<div class="container">'+t.map((t=>`<div class="story-card">${t.imageUrl?`<img src="${t.imageUrl}" class="story-image" alt="${t.title}" onerror="this.style.display='none'">`:""}<div class="story-meta"><span class="story-source">${t.source}</span><span>‚Ä¢</span><span>üïê ${formatTime(t.publishedAt)}</span></div><div class="story-title">${t.title}</div><div class="story-body">${t.body}</div><a href="#" class="read-more" onclick="event.preventDefault(); openLink('${t.url}')">Read full article ‚Üí</a></div>`)).join("")+"</div>";e.innerHTML=n}async function loadNews(){const t=document.getElementById("app");t.innerHTML='<div class="loading"><div class="spinner"></div><p>Loading latest crypto news...</p></div>';try{const e=await fetch("https://min-api.cryptocompare.com/data/v2/news/?lang=EN"),n=await e.json();if(n.Data){const t=n.Data.slice(0,10).map((t=>({id:t.id,title:t.title,body:t.body.substring(0,300)+"...",url:t.url,source:t.source_info.name,publishedAt:t.published_on,imageUrl:t.imageurl||""})));renderStories(t)}else t.innerHTML='<div class="error">Failed to load news. Please try again.</div>'}catch(e){console.error("Error:",e),t.innerHTML='<div class="error">Network error. Please check your connection.</div>'}}loadNews(),setInterval(loadNews,3e5)</script></body></html>
